# DataFusion 环境变量配置示例
# 复制此文件为 .env 并根据需要修改配置

# ================================
# 服务器配置
# ================================
DATAFUSION_SERVER_PORT=8080
DATAFUSION_SERVER_MODE=debug
DATAFUSION_SERVER_READ_TIMEOUT=30
DATAFUSION_SERVER_WRITE_TIMEOUT=30

# ================================
# 认证配置
# ================================
# JWT密钥（生产环境必须更改！）
DATAFUSION_JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production-32chars-minimum

# JWT Token有效期
DATAFUSION_JWT_TOKEN_DURATION=24h

# 密码策略
DATAFUSION_PASSWORD_MIN_LENGTH=8
DATAFUSION_PASSWORD_REQUIRE_UPPER=true
DATAFUSION_PASSWORD_REQUIRE_LOWER=true
DATAFUSION_PASSWORD_REQUIRE_DIGIT=true
DATAFUSION_PASSWORD_REQUIRE_SPECIAL=false

# ================================
# 数据库配置
# ================================
DATAFUSION_DB_HOST=localhost
DATAFUSION_DB_PORT=5432
DATAFUSION_DB_USER=postgres
DATAFUSION_DB_PASSWORD=postgres
DATAFUSION_DB_NAME=datafusion_control
DATAFUSION_DB_SSLMODE=disable
DATAFUSION_DB_MAX_OPEN_CONNS=25
DATAFUSION_DB_MAX_IDLE_CONNS=5
DATAFUSION_DB_CONN_MAX_LIFETIME=300

# ================================
# 日志配置
# ================================
DATAFUSION_LOG_LEVEL=info
DATAFUSION_LOG_FORMAT=console

# ================================
# 备份配置
# ================================
DATAFUSION_BACKUP_ENABLED=true
DATAFUSION_BACKUP_CRON=0 0 2 * * *
DATAFUSION_BACKUP_DIR=backups
DATAFUSION_BACKUP_RETENTION_DAYS=30
DATAFUSION_BACKUP_MAX_BACKUPS=10
DATAFUSION_BACKUP_COMPRESS=true

# ================================
# 生产环境建议
# ================================
# 1. 更改所有默认密码和密钥
# 2. 设置 DATAFUSION_SERVER_MODE=release
# 3. 设置 DATAFUSION_LOG_LEVEL=warn 或 error
# 4. 启用 SSL: DATAFUSION_DB_SSLMODE=require
# 5. 配置强密码策略: DATAFUSION_PASSWORD_REQUIRE_SPECIAL=true
# 6. 定期备份: DATAFUSION_BACKUP_ENABLED=true

# ================================
# Docker 环境变量
# ================================
# 如果使用 Docker，可以在 docker-compose.yml 中引用这些变量
# 或者直接在容器中设置环境变量

# ================================
# Kubernetes 环境变量
# ================================
# 在 K8S 中，建议使用 ConfigMap 和 Secret 来管理配置
# 敏感信息（如密码、密钥）应使用 Secret
# 非敏感配置可以使用 ConfigMap